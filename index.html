<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <title>Крафт YourWorld</title>
  <link rel="stylesheet" href="/YourWorld-Guide/style.css">
</head>

<body>
<div class="wrap">

  <div class="hero">
    <div class="hero-inner">
      <img class="hero-logo" src="/YourWorld-Guide/images/ywlogo.png" alt="YourWorld">
      <div>
        <h1>YourWorld</h1>
        <p class="muted">Гайд по крафту сервера YourWorld</p>
      </div>
    </div>
  </div>

  <!-- ПОИСК -->
  <div class="search-block">
    <input
      id="search"
      class="search-input"
      type="text"
      placeholder="Поиск крафта..."
      autocomplete="off"
      spellcheck="false"
    >
    <div id="search-results" class="search-dropdown hidden"></div>
  </div>

  <!-- КАТЕГОРИИ -->
  <div class="tile-grid">
    <a class="tile" href="/YourWorld-Guide/craft/categories/workbench.html">
      <img src="/YourWorld-Guide/images/categories/workbench.png">
      <span>Крафтовый стол</span>
    </a>
    <a class="tile" href="/YourWorld-Guide/craft/categories/items.html">
      <img src="/YourWorld-Guide/images/categories/hdd_items.png">
      <span>Крафт предметов</span>
    </a>
    <a class="tile" href="/YourWorld-Guide/craft/categories/electronic.html">
      <img src="/YourWorld-Guide/images/categories/hdd_electronic.png">
      <span>Крафт электроники</span>
    </a>
    <a class="tile" href="/YourWorld-Guide/craft/categories/conserv.html">
      <img src="/YourWorld-Guide/images/categories/hdd_conserv.png">
      <span>Крафт консерв</span>
    </a>
    <a class="tile" href="/YourWorld-Guide/craft/categories/medicine.html">
      <img src="/YourWorld-Guide/images/categories/hdd_medecine.png">
      <span>Крафт медицины</span>
    </a>
    <a class="tile" href="/YourWorld-Guide/craft/categories/cases.html">
      <img src="/YourWorld-Guide/images/categories/hdd_case.png">
      <span>Крафт кейсов</span>
    </a>
    <a class="tile" href="/YourWorld-Guide/craft/categories/crates.html">
      <img src="/YourWorld-Guide/images/categories/hdd_crates_barrel_chest.png">
      <span>Крафт ящиков/бочек/сундуков</span>
    </a>
    <a class="tile" href="/YourWorld-Guide/craft/categories/knife.html">
      <img src="/YourWorld-Guide/images/categories/hdd_knifes.png">
      <span>Крафт ножей</span>
    </a>
    <a class="tile" href="/YourWorld-Guide/craft/categories/weapons.html">
      <img src="/YourWorld-Guide/images/categories/hdd_weapons.png">
      <span>Крафт оружия</span>
    </a>
    <a class="tile" href="/YourWorld-Guide/craft/categories/suppressor.html">
      <img src="/YourWorld-Guide/images/categories/hdd_suppressor.png">
      <span>Крафт глушителей</span>
    </a>
    <a class="tile" href="/YourWorld-Guide/craft/categories/sets.html">
      <img src="/YourWorld-Guide/images/categories/hdd_sets.png">
      <span>Крафт cетов</span>
    </a>
    <a class="tile" href="/YourWorld-Guide/craft/categories/clothing.html">
      <img src="/YourWorld-Guide/images/categories/hdd_clothing.png">
      <span>Крафт одежды</span>
    </a>
  </div>
</div>
<script src="/YourWorld-Guide/craft/recipes.js"></script>
<script>
(function () {
  const input = document.getElementById("search");
  const dropdown = document.getElementById("search-results");

  if (!input || !dropdown || !window.RECIPES) return;

  function clear() {
    dropdown.innerHTML = "";
    dropdown.classList.add("hidden");
  }

  function render(list) {
    dropdown.innerHTML = "";

    if (!list.length) {
      dropdown.innerHTML = "<div class='search-empty'>Ничего не найдено</div>";
      dropdown.classList.remove("hidden");
      return;
    }

    list.slice(0, 20).forEach(r => {
      const a = document.createElement("a");
      a.href = r.path;
      a.className = "search-item";

      const img = document.createElement("img");
      img.src = r.icon;
      img.className = "search-icon";

      const span = document.createElement("span");
      span.textContent = r.title;

      a.appendChild(img);
      a.appendChild(span);
      dropdown.appendChild(a);
    });

    dropdown.classList.remove("hidden");
  }

  input.addEventListener("input", () => {
    const q = input.value.trim().toLowerCase();
    if (!q) return clear();

    render(
      window.RECIPES.filter(r =>
        r.title.toLowerCase().includes(q)
      )
    );
  });

  document.addEventListener("click", e => {
    if (!e.target.closest(".search-block")) clear();
  });
})();
</script>

</body>
</html>